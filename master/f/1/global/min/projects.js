!function(){function e(){_=window.innerHeight}function t(e){return e.sort(function(){return Math.random()-.5})}function a(e){var a=e.filter(function(e){return jQuery(e).hasClass("projects__row--one")}),n=e.filter(function(e){return!jQuery(e).hasClass("projects__row--one")});a=t(a),n=t(n);for(var o=a.length>=n.length?a:n,i=a.length>=n.length?n:a,s=[],r=0;r<o.length;r++)s.push(o[r]),i[r]&&s.push(i[r]);return s}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function o(){return C.eq(n(0,C.length-1))}function i(){var e=document.querySelector("body"),t=document.querySelector("html"),a={isOpened:!1,offsetTop:0};return function(n){n.classList.toggle("with-icon--projects-tiles-icon"),a.isOpened?(e.classList.remove("fixed"),t.classList.remove("fixed"),t.classList.remove("overflow-hidden"),e.removeEventListener("keyup",s),a.isOpened=!1,window.scrollTo(0,a.offsetTop)):(a.offsetTop=window.pageYOffset,a.isOpened=!0,e.classList.add("fixed"),t.classList.add("fixed"),e.addEventListener("keyup",s),setTimeout(function(){t.classList.add("overflow-hidden")},350))}}function s(e){if(27===e.keyCode)return e.preventDefault(),e.stopPropagation(),!1}var r,l=jQuery(".projects[data-group-id]"),c=jQuery(".projects").eq(0),p=c.addClass("hidden"),m=jQuery(".projects-navigation"),d=jQuery(".projects-filter"),g=d.find(".projects-filter__item"),h=g.filter(".active"),u=jQuery(".projects-navigation__group"),f=jQuery(window),v=p.find(".projects__row"),_=0,y=(jQuery(".main_menu_search, .main_menu_burger"),!1),w=jQuery(".js-informatorium"),C=w.find(".projects__item"),z=[];jQuery(".projects-navigation__control").on("click",function(){m.toggleClass("projects-navigation--hidden")}),$(window).on("touchmove.checkingMove",function(e){"touchmove"!==e.type||y||(y=!0)}).on("touchend.checkingMove",function(){y=!1}),g.on("click touchend",function(){if(!jQuery(this).hasClass("active")&&!y){if(m.removeClass("projects-navigation--hidden").removeClass("projects-navigation--"+h.data("group-number")),h.removeClass("active"),h=g.filter("[data-group-number="+jQuery(this).data("group-number")+"]"),h.addClass("active"),l.addClass("hidden"),m.addClass("projects-navigation--"+h.data("group-number")),"all"===h.data("group-number")?(window.location.hash="",window.history.pushState(!0,"",window.location.pathname)):window.location.hash=h.data("group-number"),"all"===h.data("group-number"))p.removeClass("hidden"),u.removeClass("projects-navigation__group--disabled"),m.removeClass("projects-navigation--filtered");else{var e=u.filter("[data-group-id="+h.data("group-number")+"]"),t=l.filter("[data-group-id="+h.data("group-number")+"]");p.addClass("hidden"),t.removeClass("hidden"),u.addClass("projects-navigation__group--disabled"),e.removeClass("projects-navigation__group--disabled"),m.addClass("projects-navigation--filtered")}r=jQuery(".projects .projects__item:visible:not(.project--lng)")}}),jQuery("body").on("click",".popup-burger .menu-map__item:not(.menu-map__item-selected) a",function(){var e=g.filter("[data-group-number = "+this.href.split("#")[1]+"]");e.trigger("click"),e.trigger("touchstart"),jQuery(".main_menu_burger").trigger("click")});var b=[],k="";v.each(function(e){var t=jQuery(this),a=t.data("sort-group"),n=t.find(".projects__item").length;(t.hasClass("projects__row--three")||t.hasClass("projects__row--two")&&n<2)&&(t.append(o()),t.addClass("projects__row--with-informatorium"),C=w.find(".projects__item")),e>0&&0===t.prev(".projects__row[data-sort-group="+a+"]").length&&(z.push(b),b=[]),b.push(t[0].outerHTML),v.length===e+1&&z.push(b)});for(var j=0;j<z.length;j++)k+=a(z[j]).join("");p.html(k),r=p.find(".projects__item:not(.project--lng)");var T=window.location.hash.replace("#","");setTimeout(function(){if(T.length>0){var e=g.filter("[data-group-number = "+T+"]");e.trigger("click"),e.trigger("touchstart")}else p.removeClass("hidden")},100);var x=jQuery(".js-projects-map"),I=x.find(".land"),P=x.find(".map-items"),A=P.find("label");A.hover(function(){jQuery(this).addClass("active"),P.addClass("map-items--hovered"),I.filter("#"+jQuery(this).attr("for")).attr("class","land land--hover")},function(){jQuery(this).removeClass("active"),P.removeClass("map-items--hovered"),I.filter("#"+jQuery(this).attr("for")).attr("class","land")}),I.hover(function(){A.filter("[for = "+this.id+"]").length>0&&(P.addClass("map-items--hovered"),A.filter("[for = "+this.id+"]").addClass("active"))},function(){P.removeClass("map-items--hovered"),A.filter("[for = "+this.id+"]").removeClass("active")});var S=i();jQuery(".projects-filter-opener").on("click",function(){y||S(this)}),document.addEventListener("burgerOpened",function(){window.location.hash&&(jQuery('.js-main-burger-projects a[href="'+window.location.pathname+window.location.hash+'"]').parents(".menu-map__item").addClass("menu-map__item-selected"),jQuery(".js-main-burger-projects").parents(".menu-map__section").find(".menu-map__head-selected").removeClass("menu-map__head-selected"))}),f.on("load",function(){f.on("resize",function(){e()})}),setTimeout(function(){jQuery("html").addClass("loaded")},1e3),e()}();
//# sourceMappingURL=projects.js.map